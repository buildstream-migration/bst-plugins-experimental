# Bazel default configuration

variables:

  target: ""
  
  bazel-startup-global: ""

  bazel-startup-local: ""

  bazel: bazel %{bazel-startup-global} %{bazel-startup-local}

  bazel-build-global: ""

  bazel-build-local: ""

  strip: "sometimes"

  compilation-mode: "fastbuild"

  bazel-build: >-
    %{bazel} build %{target}
    --verbose_failures
    --strip %{strip}
    --compilation_mode %{compilation-mode}
    %{bazel-build-global}
    %{bazel-build-local}

config:

  # Commands for configuring the software
  #
  configure-commands: []


  # Commands for building the software
  #
  build-commands:
  - "%{bazel-build}"

  # Commands for installing the software into a
  # destination folder
  #
  install-commands: []

environment:
  HOME: "/home"
